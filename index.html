<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="xwillmadeit">
<meta property="og:url" content="https://xwillmadeit.github.io/index.html">
<meta property="og:site_name" content="xwillmadeit">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xwillmadeit">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="https://xwillmadeit.github.io/"/>


  <title> xwillmadeit </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">xwillmadeit</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/13/npm-scripts-è¿›é˜¶/" itemprop="url">
                  npm scripts è¿›é˜¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-13T11:06:56+08:00" content="2017-02-13">
              2017-02-13
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä½¿ç”¨-amp-amp-æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ"><a href="#ä½¿ç”¨-amp-amp-æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ" class="headerlink" title="ä½¿ç”¨ &amp;&amp; æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ"></a>ä½¿ç”¨ &amp;&amp; æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp css &amp;&amp; gulp js &amp;&amp; gulp version</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨-amp-å¹¶è¡ŒåŒæ—¶æ‰§è¡Œ"><a href="#ä½¿ç”¨-amp-å¹¶è¡ŒåŒæ—¶æ‰§è¡Œ" class="headerlink" title="ä½¿ç”¨ &amp; å¹¶è¡ŒåŒæ—¶æ‰§è¡Œ"></a>ä½¿ç”¨ &amp; å¹¶è¡ŒåŒæ—¶æ‰§è¡Œ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp css &amp; gulp js</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œæœ€å¥½åœ¨å‘½ä»¤å°¾éƒ¨åŠ ä¸Š &amp; waitï¼Œè¿™æ · commond + c æ‰èƒ½å½»åº•é€€å‡º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp css &amp; gulp js &amp; wait</span><br></pre></td></tr></table></figure>
<h2 id="npm-run-all"><a href="#npm-run-all" class="headerlink" title="npm-run-all"></a>npm-run-all</h2><p>ä½¿ç”¨ npm-run-all å¯ä»¥ä»£æ›¿æ‰‹åŠ¨è¾“å…¥ npm run</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run all eslint stylelint mocha</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ eslint stylelint mocha ä¸‰ä¸ªä»»åŠ¡ä¼šé¡ºåºæ‰§è¡Œ</p>
<p>å¦‚æœæƒ³å¹¶è¡Œæ‰§è¡Œ</p>
<p>npm run all â€“parallel eslint mocha stylelint</p>
<p>npm run all è‡ªåŠ¨å¸®ä½ åœ¨åé¢å¢åŠ  &amp; wait</p>
<h2 id="npm-run-all-ä½¿ç”¨é€šé…ç¬¦"><a href="#npm-run-all-ä½¿ç”¨é€šé…ç¬¦" class="headerlink" title="npm-run-all ä½¿ç”¨é€šé…ç¬¦"></a>npm-run-all ä½¿ç”¨é€šé…ç¬¦</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lint:js</span><br><span class="line">lint:css</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run all lint:*</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lint:js:fix</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run all lint:**</span><br></pre></td></tr></table></figure>
<h2 id="npm-script-lifecycle-hooks"><a href="#npm-script-lifecycle-hooks" class="headerlink" title="npm script lifecycle hooks"></a>npm script lifecycle hooks</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pretest</span><br><span class="line">test</span><br><span class="line">posttest</span><br></pre></td></tr></table></figure>
<h2 id="ä¼ é€’å‚æ•°"><a href="#ä¼ é€’å‚æ•°" class="headerlink" title="ä¼ é€’å‚æ•°"></a>ä¼ é€’å‚æ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"test"</span>: <span class="string">"mocha"</span>,</span><br><span class="line"><span class="string">"watch:test"</span>: <span class="string">"npm test -- watch"</span></span><br></pre></td></tr></table></figure>
<h2 id="onchange-åº“"><a href="#onchange-åº“" class="headerlink" title="onchange åº“"></a>onchange åº“</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/10/prototype/" itemprop="url">
                  prototype && inheritance
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-10T17:31:18+08:00" content="2017-02-10">
              2017-02-10
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="prototype-æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ"><a href="#prototype-æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ" class="headerlink" title="prototype æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ"></a>prototype æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°å£°æ˜ï¼Œé™¤äº†å£°æ˜å‡½æ•°ï¼Œè¿˜å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype = &#123; <span class="keyword">constructor</span>: Person &#125;;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å‘ç°å‡½æ•° Person å£°æ˜å®Œä»¥åï¼Œå¤šäº†ä¸€ä¸ªå« prototype çš„å±æ€§ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸€ä¸ª constructor å±æ€§ï¼Œconstructor ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘äº† Person å‡½æ•°æœ¬èº«</p>
<h2 id="proto-æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"><a href="#proto-æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ" class="headerlink" title="..proto.. æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ"></a><em>.</em>.<em>proto</em>.<em>.</em> æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xwill = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(xwill); <span class="comment">// &#123; __proto__: Object&#125;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä½¿ç”¨ new å…³é”®å­—ç”Ÿæˆä¸€ä¸ª Person çš„å®ä¾‹å¯¹è±¡ xwillï¼Œç„¶åæ‰“å°äº†è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å‘ç°ï¼Œxwill å¯¹è±¡ä¸­å‡ºç°äº†ä¸€ä¸ª <strong>proto</strong> å±æ€§ï¼Œè€Œè¿™ä¸ª <strong>proto</strong> å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å±•å¼€è¿™ä¸ªå¯¹è±¡</p>
<p><img src="../images/prototype/protoObject.jpeg" alt="image"></p>
<p>å¾ˆæ¸…æ¥šäº†å§ï¼Œxwill ä¸­çš„ proto å¯¹è±¡å’Œ Person.prototype å¯¹è±¡å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªï¼Œxwill çš„ proto å¯¹è±¡æŒ‡å‘äº† Person.prototype å¯¹è±¡</p>
<p><img src="../images/prototype/__proto__.jpeg" alt="image"></p>
<p>æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹</p>
<p><img src="../images/prototype/proto3.jpeg" alt="image"></p>
<p>å—¯ï¼Œç¡®å®æ˜¯è¿™æ ·</p>
<h2 id="æ²¿ç€-prototype-å¯»æ‰¾å±æ€§"><a href="#æ²¿ç€-prototype-å¯»æ‰¾å±æ€§" class="headerlink" title="æ²¿ç€ prototype å¯»æ‰¾å±æ€§"></a>æ²¿ç€ prototype å¯»æ‰¾å±æ€§</h2><p>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬å»è·å– xwill å¯¹è±¡çš„æŸä¸ªå±æ€§çš„æ—¶å€™ï¼Œåœ¨ js å¼•æ“ä¸­ï¼Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// what happend in js engine ???</span></span><br><span class="line"><span class="built_in">console</span>.log(xwill.name);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé—®é¢˜æœ‰ç‚¹é«˜çº§ï¼Œæˆ‘ä»¬å…ˆæ¥å›ç­”ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼Œconsole.log(xwill.name) ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ<br>æ¯«æ— ç–‘é—®ï¼Œ xwill æš‚æ—¶åªæœ‰ä¸€ä¸ª proto å±æ€§ï¼Œå¹¶æ²¡æœ‰ name å±æ€§ï¼Œæ‰€ä»¥è¾“å‡º undefined</p>
<p>å¦‚æœæˆ‘ä»¬ç»™ xwill.name èµ‹å€¼ï¼Œé‚£ä¹ˆæ˜¾ç„¶ xwill.name å°±ä¼šç­‰äºæ‰€èµ‹çš„å€¼</p>
<p><img src="../images/prototype/proto4.jpeg" alt="image"></p>
<p>å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬åœ¨è·å– xwill.name çš„å€¼çš„æ—¶å€™ï¼Œjs å¼•æ“åšäº†ä¸¤ä»¶äº‹</p>
<ol>
<li>å¯»æ‰¾ xwill å¯¹è±¡ä¸Šæœ‰æ²¡æœ‰ name å±æ€§ï¼Œæœ‰ï¼Œåˆ™è¿”å›</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œåˆ™å¯»æ‰¾ xwill çš„ proto å¯¹è±¡ä¸­æœ‰æ²¡æœ‰ name å±æ€§ï¼ˆç”±äº xwill çš„ proto å¯¹è±¡ç­‰äº Person çš„ prototype å¯¹è±¡ï¼Œæ‰€ä»¥å°±ç›¸å½“äºå¯»æ‰¾ Person çš„ prototype å¯¹è±¡ä¸­æ˜¯å¦æœ‰ name å±æ€§ï¼‰ï¼Œæœ‰ï¼Œåˆ™è¿”å›</li>
</ol>
<p><img src="../images/prototype/proto5.jpeg" alt="image"></p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å›ç­”ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ prototype å®šä¹‰æ–¹æ³• ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'xwill'</span>);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'jack'</span>);</span><br><span class="line"></span><br><span class="line">p1.say(); <span class="comment">// hello</span></span><br><span class="line">p2.say(); <span class="comment">// hello</span></span><br></pre></td></tr></table></figure>
<p>p1 å’Œ p2 å¯¹è±¡å¹¶æ²¡æœ‰ say æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬çš„ proto å¯¹è±¡ä¸­æœ‰ say æ–¹æ³•ï¼ˆå› ä¸º Person çš„ prototype å¯¹è±¡å®šä¹‰äº† say æ–¹æ³•ï¼Œè€Œ p1ï¼Œp2 çš„ proto å¯¹è±¡åˆéƒ½ç­‰äº Person çš„ prototype å¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥ï¼Œç›¸å½“äºå®ç°äº†æ–¹æ³•å…±äº«ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯å¦‚æœæœ‰100ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™100ä¸ªå¯¹è±¡å…±äº«ä¸€ä¸ªæ–¹æ³•ï¼Œè€Œä¸æ˜¯å„è‡ªæœ‰ä¸€ä¸ªä¸€æ ·çš„æ–¹æ³•</p>
<h2 id="prototype-ç»§æ‰¿-ï¼ˆclassic-inheritanceï¼‰"><a href="#prototype-ç»§æ‰¿-ï¼ˆclassic-inheritanceï¼‰" class="headerlink" title="prototype ç»§æ‰¿ ï¼ˆclassic inheritanceï¼‰"></a>prototype ç»§æ‰¿ ï¼ˆclassic inheritanceï¼‰</h2><p>æœ‰äº†ä¸Šé¢çš„åŸºç¡€ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æ”¹å˜ prototype çš„æŒ‡å‘ï¼Œä»è€Œè¾¾åˆ°ç»§æ‰¿çš„æ•ˆæœ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, jobName</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.jobName = jobName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.getPersonName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Job</span>(<span class="params">jobName</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.jobName = jobName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Job.prototype.getJobName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.jobName);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'xwill'</span>, <span class="string">'worker'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè¿™æ ·åšï¼Œåªä¼šæ”¹å˜ p1 çš„ __proto__ æŒ‡å‘ Job.prototypeï¼Œå¾ˆæ˜æ˜¾ï¼Œp1 å°†ä¸ä¼šæœ‰ getPersonName æ–¹æ³•</span></span><br><span class="line">p1.__proto__ = Job.prototype; <span class="comment">// not work</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢ä¸‰ç§æ”¹å˜ prototype æŒ‡å‘çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ Person å¯¹è±¡ç»§æ‰¿åˆ° Job å¯¹è±¡çš„ getJobName æ–¹æ³•</span></span><br><span class="line">p1.__proto__.__proto__ = Job.prototype; <span class="comment">// works</span></span><br><span class="line">Person.prototype.__proto__ = Job.prototype; <span class="comment">// works too</span></span><br><span class="line"><span class="comment">// ES6 ç‰¹æ€§</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(Person.prototype, Job.prototype); <span class="comment">// also works</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(p1.__proto__, Job.prototype); <span class="comment">// alsoooo works</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.__proto__ === Job.prototype); <span class="comment">//true</span></span><br><span class="line">p1.getPersonName();</span><br><span class="line">p1.getJobName();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'xwill2'</span>, <span class="string">'developer'</span>);</span><br><span class="line">p2.getPersonName();</span><br><span class="line">p2.getJobName();</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™çœ‹çœ‹ Person.prototype çš„ proto å±æ€§ï¼ŒæŒ‡å‘çš„å¯¹è±¡å·²ç»æ˜¯ Job çš„ prototype äº†</p>
<p><img src="../images/prototype/proto6.jpeg" alt="image"></p>
<p>ç°åœ¨ p1 å’Œ p2 æ—¢æ˜¯ Person çš„å®ä¾‹ï¼Œåˆæ˜¯ Job çš„å®ä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p1 <span class="keyword">instanceof</span> Job); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p2 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p2 <span class="keyword">instanceof</span> Job); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="Prototypal-Inheritance"><a href="#Prototypal-Inheritance" class="headerlink" title="Prototypal Inheritance"></a>Prototypal Inheritance</h2><p>è¿™æ˜¯å¦ä¸€ç§åŸå‹ç»§æ‰¿æ¨¡å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Prototypal Pattern</span></span><br><span class="line"><span class="keyword">var</span> human = &#123;</span><br><span class="line">	species: <span class="string">'human'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xwill = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xwill = <span class="built_in">Object</span>.create(human);</span><br><span class="line"><span class="comment">// xwill.__proto__ = human;</span></span><br><span class="line">xwill.species = <span class="string">'superman'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(xwill.species); <span class="comment">// superman</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> xwill.species;</span><br><span class="line"><span class="built_in">console</span>.log(xwill.species); <span class="comment">// human</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(xwill) === human); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(xwill.hasOwnProperty(<span class="string">'species'</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>è¿ç»­ç»§æ‰¿ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// prototypal</span></span><br><span class="line"><span class="keyword">var</span> human = &#123;</span><br><span class="line">	species: <span class="string">'human'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> musician = <span class="built_in">Object</span>.create(human);</span><br><span class="line">musician.instrument = <span class="string">'drum'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xwill = <span class="built_in">Object</span>.create(musician);</span><br><span class="line"><span class="built_in">console</span>.log(xwill.instrument);</span><br><span class="line"><span class="built_in">console</span>.log(xwill.species);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ xwill ç»§æ‰¿äº† musicianï¼Œè€Œ musician ç»§æ‰¿äº† humanï¼Œæ‰€ä»¥ xwill å³å¯ä»¥ä½¿ç”¨ musician ä¸Šçš„å±æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ human ä¸Šçš„å±æ€§</p>
<p><img src="../images/prototype/proto7.jpeg" alt="image"></p>
<p><a href="https://www.youtube.com/watch?v=doXpW5AD60Q" target="_blank" rel="external">Prototypal Pattern Video</a><br><a href="http://javascript.info/tutorial/inheritance" target="_blank" rel="external">Prototypal inheritance</a></p>
<h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><p>nodejs 0.1.0 ä½¿ç”¨çš„ç»§æ‰¿<a href="https://github.com/nodejs/node-v0.x-archive/blob/master/lib/util.js#L634-L644" target="_blank" rel="external">å·¥å…·æ–¹æ³•</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherits</span>(<span class="params">ctor, superCtor</span>) </span>&#123;</span><br><span class="line">  ctor.super_ = superCtor;</span><br><span class="line">  ctor.prototype = <span class="built_in">Object</span>.create(superCtor.prototype, &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: &#123;</span><br><span class="line">      value: ctor,</span><br><span class="line">      enumerable: <span class="literal">false</span>,</span><br><span class="line">      writable: <span class="literal">true</span>,</span><br><span class="line">      configurable: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Musician</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	Musician.super_.call(<span class="keyword">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inherits(Musician, Person);</span><br></pre></td></tr></table></figure>
<p>node 5.9.1 ä½¿ç”¨çš„ç»§æ‰¿æ–¹æ³•å·²ç»æ”¹æˆäº†ä½¿ç”¨ Object.setPrototypeOfï¼ˆES6ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherits</span>(<span class="params">ctor, superCtor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (ctor === <span class="literal">undefined</span> || ctor === <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'The constructor to `inherits` must not be null or undefined.'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (superCtor === <span class="literal">undefined</span> || superCtor === <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'The super constructor to `inherits` must not be null or undefined.'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (superCtor.prototype === <span class="literal">undefined</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'The super constructor to `inherits` must have a prototype.'</span>);</span><br><span class="line"></span><br><span class="line">  ctor.super_ = superCtor;</span><br><span class="line">  <span class="built_in">Object</span>.setPrototypeOf(Musician.prototype, Person.prototype);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/10/Constructor-çš„é‚£ç‚¹äº‹å„¿/" itemprop="url">
                  javascript ä¸­ constructor çš„é‚£äº›äº‹å„¿
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-10T11:57:00+08:00" content="2017-02-10">
              2017-02-10
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æœ‰å“ªäº›-constructor"><a href="#æœ‰å“ªäº›-constructor" class="headerlink" title="æœ‰å“ªäº› constructor"></a>æœ‰å“ªäº› constructor</h2><p>åœ¨ javascript ä¸­ï¼Œæ¶‰åŠåˆ° constructor çš„æ¦‚å¿µæœ‰ä¸‰ä¸ª</p>
<ul>
<li>æ„é€ å‡½æ•°å¯è¢«ç§°ä¸ºä¸€ä¸ª constructor</li>
<li>æ‰€æœ‰çš„å¯¹è±¡æœ‰ä¸€ä¸ª constructor å±æ€§</li>
<li>ES6 è¯­æ³•ä¸­æœ‰ä¸€ä¸ª constructor å…³é”®å­—</li>
</ul>
<p>ä¸€è„¸æ‡µé€¼â€¦</p>
<h2 id="æ„é€ å‡½æ•°-â€”â€”-constructor"><a href="#æ„é€ å‡½æ•°-â€”â€”-constructor" class="headerlink" title="æ„é€ å‡½æ•° â€”â€” constructor"></a>æ„é€ å‡½æ•° â€”â€” constructor</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯ javascript ä¸­çš„æ„é€ å‡½æ•°ï¼Œåˆå¯ç§°ä¸ºä¸€ä¸ªæ„é€ å™¨ï¼ˆconstructorï¼‰</p>
<h2 id="å¯¹è±¡çš„-constructor-å±æ€§"><a href="#å¯¹è±¡çš„-constructor-å±æ€§" class="headerlink" title="å¯¹è±¡çš„ constructor å±æ€§"></a>å¯¹è±¡çš„ constructor å±æ€§</h2><p>Object.prototype.constructor å±æ€§è¿”å›äº†ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨æŒ‡å‘äº§ç”Ÿå®ä¾‹çš„æ„é€ å‡½æ•°</p>
<blockquote>
<p>Returns a reference to the Object constructor function that created the instance object</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> man = <span class="keyword">new</span> Person(<span class="string">'xwill'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(man.constructor === Person); <span class="comment">// é€šè¿‡ new å…³é”®å­—ç”Ÿæˆçš„å¯¹è±¡ï¼Œå®ƒçš„ constructor å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æœ¬èº«</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>);</span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">  name: <span class="string">'mark'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o.constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.constructor === <span class="built_in">String</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.constructor === <span class="built_in">Array</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å­—é¢é‡å®šä¹‰çš„å¯¹è±¡ï¼Œå®ƒçš„ constructor æŒ‡å‘ Object</span></span><br><span class="line"><span class="built_in">console</span>.log(cat.constructor === <span class="built_in">Object</span>);</span><br></pre></td></tr></table></figure>
<p><b>constructor å±æ€§ä¼šè¢«è¦†ç›–</b></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> man = <span class="keyword">new</span> Person(<span class="string">'xwill'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(man.constructor === Person); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// constructor å±æ€§çš„å¼•ç”¨å¯¹è±¡å˜æˆäº† Animal</span></span><br><span class="line">man.constructor = Animal;</span><br><span class="line"><span class="built_in">console</span>.log(man.constructor === Animal); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(man.constructor === Person); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯æœ€å¥½ä¸ç”¨ constructor ç¡®å®šå®ä¾‹ï¼ˆinstanceï¼‰æ‰€å±ç±»å‹çš„åŸå› <br>åˆ¤æ–­å®ä¾‹ç±»å‹ï¼Œç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof" target="_blank" rel="external">instanceof</a> å…³é”®å­—</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/å½“ä½ -new-äº†ä¸€ä¸ª-Function/" itemprop="url">
                  ğŸ‚ï¼ˆnewï¼‰èƒŒåçš„æ•…äº‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-09T23:54:20+08:00" content="2017-02-09">
              2017-02-09
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="new-Foo-çš„èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#new-Foo-çš„èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="new Foo() çš„èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ"></a>new Foo() çš„èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Foo();</span><br></pre></td></tr></table></figure>
<p>ğŸ‚ èƒŒåçš„æ•…äº‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><p><b>ä¸€ä¸ªæ–°å¯¹è±¡ f ç”Ÿæˆäº†ï¼Œå®ƒç»§æ‰¿äº† Foo çš„ prototype</b><br>A new object is created, inheriting from Foo.prototype</p>
</li>
<li><p><b>æ„é€ å‡½æ•° Foo è¢«æ‰§è¡Œäº†ï¼ŒFoo ä¸­çš„ this ç»‘å®šç»™äº†æ–°ç”Ÿæˆçš„å¯¹è±¡ f</b><br>The constructor function Foo is called with the specified arguments, and with this bound to the newly created object. new Foo is equivalent to new Foo(), i.e. if no argument list is specified, Foo is called without arguments.</p>
</li>
<li><p><b>å¦‚æœæ²¡æœ‰åœ¨ Foo ä¸­æ˜¾ç¤ºçš„ return ä¸€ä¸ªå¯¹è±¡ï¼Œ é‚£ä¹ˆ f å°±ç­‰äºé»˜è®¤æ„é€ å‡ºæ¥çš„å¯¹è±¡</b><br>The object returned by the constructor function becomes the result of the whole new expression. If the constructor function doesnâ€™t explicitly return an object, the object created in step 1 is used instead. (Normally constructors donâ€™t return a value, but they can choose to do so if they want to override the normal object creation process.)</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> Car();</span><br><span class="line"></span><br><span class="line">Car.prototype.name = <span class="string">'bmw'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(c.name);</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®ä¸Šé¢çš„ç»“è®ºï¼Œå½“ c å¯¹è±¡ç”Ÿæˆæ—¶ï¼Œå®ƒç»§æ‰¿äº† Car.protptypeï¼Œæ‰€ä»¥å½“</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Car.prototype.name = <span class="string">'bmw'</span>;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œåï¼Œc å¯¹è±¡ä¹Ÿæœ‰ name å±æ€§ï¼Œå³æ¥è‡ª Car.prototype çš„å±æ€§</p>
<p>ä¸€ä¸ªæ€è€ƒï¼Ÿä¸‹é¢çš„ä»£ç ä¼šæ‰“å°å‡ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// null is also an object</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="string">'xwill'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(f);</span><br></pre></td></tr></table></figure>
<p>ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; name: <span class="string">'xwill'</span> &#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new" target="_blank" rel="external">new operator</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/React-å¼€å‘æ—¶é‡åˆ°çš„é—®é¢˜æ€»ç»“/" itemprop="url">
                  React å¼€å‘æ—¶é‡åˆ°çš„é—®é¢˜æ€»ç»“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-09T09:16:55+08:00" content="2017-02-09">
              2017-02-09
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Stateless-Component"><a href="#Stateless-Component" class="headerlink" title="Stateless Component"></a>Stateless Component</h2><p>å’Œæ™®é€šçš„ Component ç›¸æ¯”ï¼ŒStateless Component æ²¡æœ‰è‡ªå·±çš„ stateï¼Œé€šå¸¸ç”¨ä»¥ä¸‹å‡½æ•°æ–¹å¼å®šä¹‰<br>ï¼ˆEslint prefer-stateless-function è§„åˆ™ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = (props) =&gt; &lt;h2&gt;This is our &#123;props.title&#125;&lt;/h2&gt;</span><br></pre></td></tr></table></figure>
<p>Stateless Component ä¸»è¦æ˜¯å±•ç¤ºä½œç”¨</p>
<h2 id="React-ä¸€ä¸ªç»„ä»¶åªèƒ½è¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹"><a href="#React-ä¸€ä¸ªç»„ä»¶åªèƒ½è¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹" class="headerlink" title="React ä¸€ä¸ªç»„ä»¶åªèƒ½è¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹"></a>React ä¸€ä¸ªç»„ä»¶åªèƒ½è¿”å›ä¸€ä¸ªæ ¹èŠ‚ç‚¹</h2><p>è¿™ä¸ªé—®é¢˜å¾ˆæœ‰æ„æ€ï¼Œå®é™…ä¸Šä¸æ˜¯ React çš„é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// jsx</span></span><br><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;div&gt;hello&lt;/div&gt;&lt;div&gt;world&lt;/div&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// under the hood</span></span><br><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">return</span> React.createElement(<span class="string">"div"</span>, <span class="literal">null</span>) React.createElement(<span class="string">"div"</span>, <span class="literal">null</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ä¸å¯èƒ½æœ‰ä¸¤ä¸ªè¿”å›å€¼ğŸ˜Š</p>
<h2 id="super-å’Œ-super-props-çš„åŒºåˆ«"><a href="#super-å’Œ-super-props-çš„åŒºåˆ«" class="headerlink" title="super() å’Œ super(props) çš„åŒºåˆ«"></a>super() å’Œ super(props) çš„åŒºåˆ«</h2><p><b>é—®é¢˜1ï¼šåœ¨ Component çš„ constructor ä¸­ä¸ºä»€ä¹ˆéœ€è¦è°ƒç”¨ super()ï¼Ÿ</b><br>è¿™æ˜¯ ES6 å…³äº Class çš„æ¦‚å¿µï¼š</p>
<blockquote>
<p>å­ç±»çš„æ„é€ å™¨å¿…é¡»è°ƒç”¨ super()<br>åœ¨å­ç±»çš„ constructor ä¸­ï¼Œåªæœ‰è°ƒç”¨äº† superï¼Œæ‰å¯ä»¥ä½¿ç”¨ this ä½œç”¨åŸŸ</p>
</blockquote>
<p><a href="http://stackoverflow.com/questions/31067368/javascript-es6-class-extend-without-super/31079103#31079103" target="_blank" rel="external">ES6 Class super</a></p>
<p><b>é—®é¢˜2ï¼šcomponent constructor ä¸­è°ƒç”¨ super() å’Œ super(props) çš„åŒºåˆ«ï¼Ÿ</b><br>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ component æ„é€ æ–¹æ³•çš„å¤–å›´ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ propsï¼Œåªæœ‰ä¸€ç§æƒ…å†µä¸‹éœ€è¦åœ¨ constructor ä¸­è°ƒç”¨ super(props)ï¼š</p>
<blockquote>
<p>å½“åœ¨ constructor ä¸­éœ€è¦ä½¿ç”¨ props çš„æ—¶å€™</p>
</blockquote>
<p>ç„¶è€Œï¼Œæ³¨æ„ï¼Œåœ¨ React å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¿™ä¹ˆä¸€å¥</p>
<blockquote>
<p>Class components should always call the base constructor with props.</p>
</blockquote>
<p><a href="http://stackoverflow.com/questions/30571875/whats-the-difference-between-super-and-superprops-in-react-when-using-e" target="_blank" rel="external">Difference Between super() and super(props)</a><br><a href="http://cheng.logdown.com/posts/2016/03/26/683329" target="_blank" rel="external">React ES6 class constructor super()</a></p>
<h2 id="component-ä¸­äº‹ä»¶ç»‘å®š-this-çš„å‡ ç§æ–¹å¼"><a href="#component-ä¸­äº‹ä»¶ç»‘å®š-this-çš„å‡ ç§æ–¹å¼" class="headerlink" title="component ä¸­äº‹ä»¶ç»‘å®š this çš„å‡ ç§æ–¹å¼"></a>component ä¸­äº‹ä»¶ç»‘å®š this çš„å‡ ç§æ–¹å¼</h2><p>æˆ‘ä»¬ç»å¸¸çœ‹åˆ°ä¸‹é¢è¿™äº›ç»‘å®š this çš„ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">  <span class="keyword">super</span>(props);</span><br><span class="line">  <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onChange=&#123;<span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>)&#125;</span><br></pre></td></tr></table></figure>
<p>äº¦æˆ–è€…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onChange=&#123;e =&gt; <span class="keyword">this</span>.handleChange(e)&#125;</span><br></pre></td></tr></table></figure>
<p>åŸæ¥ React.createClass ä¼šè‡ªåŠ¨ç»‘å®š thisï¼Œä½†æ˜¯ä½¿ç”¨ ES6 Class å®šä¹‰ component åï¼Œå¿…é¡»æ‰‹åŠ¨ç»‘å®š this</p>
<p><a href="https://medium.com/@housecor/react-binding-patterns-5-approaches-for-handling-this-92c651b5af56#.dtbk6bq3z" target="_blank" rel="external">5 approaches to handle binding this</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/07/Webpack2-core-concept/" itemprop="url">
                  Webpack2 core concept
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-07T20:25:32+08:00" content="2017-02-07">
              2017-02-07
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Code-Splitting"><a href="#Code-Splitting" class="headerlink" title="Code Splitting"></a>Code Splitting</h2><p>Code Splitting å³ä»£ç åˆ†å‰²ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå¤§ bundle åˆ†å‰²æˆå¤šä¸ªå° bundleï¼ŒæŒ‰éœ€åŠ è½½ï¼Œä»è€Œè¾¾åˆ°æ€§èƒ½ä¼˜åŒ–</p>
<p>åœ¨ Webpack ä¸­ä¸»è¦æœ‰ä¸¤ç§ Code Splitting</p>
<ul>
<li>å°†ç¬¬ä¸‰æ–¹çš„ç±»åº“ï¼Œæ¡†æ¶ï¼Œå‡ ä¹ä¸ä¼šä¿®æ”¹çš„å·¥å…·æ–¹æ³•ç­‰å•ç‹¬æ‰“æˆåŒ…ï¼Œè¿™æ ·æµè§ˆå™¨å¯ä»¥ç¼“å­˜</li>
<li>æŒ‰éœ€åŠ è½½æ‰“åŒ…ï¼Œæ¯”å¦‚è·¯ç”±åˆ‡æ¢åŠ è½½æˆ–ç‚¹å‡»äº‹ä»¶åŠ è½½</li>
</ul>
<p><a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="external">Code Splitting Doc</a></p>
<h2 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h2><p>Tree Shaking å¯ä»¥ç†è§£ä¸ºæ’é™¤æ²¡æœ‰ç”¨åˆ°çš„ä»£ç </p>
<blockquote>
<p>ä½¿ç”¨ import å¯¼å…¥äº†æŸä¸ªæ¨¡å—ï¼Œä½†æ˜¯è¯¥æ¨¡å—å¹¶æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œåˆ™æ‰“åŒ…æ—¶ï¼Œwebpack ä¼šè‡ªåŠ¨æŠŠè¯¥æ¨¡å—æ’é™¤åœ¨å¤–</p>
</blockquote>
<p>Tree Shaking çš„æ¦‚å¿µæ¥è‡ªäº Rollupï¼Œå®ƒåŸºäº ES6 çš„ import/exportï¼Œå®ƒä¹Ÿæ˜¯ Webpack2 çš„æ ¸å¿ƒä¹‹ä¸€</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">cube</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x * x * x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; cube &#125; <span class="keyword">from</span> <span class="string">'./math'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(cube(<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>index.js ä¸­ï¼Œsquare æ²¡æœ‰è¢«å¯¼å…¥ï¼Œwebpack åœ¨æ‰“åŒ…æ—¶ä¼šå°†å…¶æ’é™¤<br>å³ä¾¿å¦‚ä¸‹å¯¼å…¥ squareï¼Œä½† square å¹¶æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œwebpack ä¹Ÿä¼šå°†å…¶æ’é™¤</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; cube, square &#125; <span class="keyword">from</span> <span class="string">'./math'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(cube(<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯ Tree Shaking çš„æ ¸å¿ƒæ¦‚å¿µ</p>
<p><a href="https://webpack.js.org/guides/tree-shaking/" target="_blank" rel="external">Tree Shaking Doc</a></p>
<h2 id="ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä¸€äº›æ³¨æ„äº‹é¡¹</h2><ul>
<li>webpack -p åˆ©ç”¨äº† uglify2 å‹ç¼©ä»£ç ï¼Œä½†æ˜¯ uglify2 æš‚ä¸æ”¯æŒ ES6</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/31/èŠèŠ-Function-Composition/" itemprop="url">
                  èŠèŠ Function Composition
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-01-31T12:02:57+08:00" content="2017-01-31">
              2017-01-31
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p><b>Function Composition æ˜¯æŠŠä¸¤ä¸ªæˆ–å¤šä¸ªæ–¹æ³•åˆæˆä¸ºä¸€ä¸ªæ–°æ–¹æ³•çš„è¿‡ç¨‹</b><br>Function composition is the process of combining two or more functions to produce a new function. Composing functions together is like snapping together a series of pipes for our data to flow through.</p>
<h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>ä¸€ä¸ªå¸¸è§éœ€æ±‚ï¼šæŠŠä¸‹é¢æ•°ç»„ä¸­æ‰€æœ‰çš„ type ä¸º Household çš„æ‰¾å‡ºæ¥ï¼Œè®¡ç®—ä»–ä»¬çš„ price æ€»å’Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> expenses = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'Rent'</span>,</span><br><span class="line">    price: <span class="number">500</span>,</span><br><span class="line">    type: <span class="string">'Household'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Netflix'</span>,</span><br><span class="line">    price: <span class="number">5.99</span>,</span><br><span class="line">    type: <span class="string">'Services'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Gym'</span>,</span><br><span class="line">    price: <span class="number">15</span>,</span><br><span class="line">    type: <span class="string">'Health'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Bills'</span>,</span><br><span class="line">    price: <span class="number">100</span>,</span><br><span class="line">    type: <span class="string">'Household'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ Pure Function + Pure Function æˆ‘ä»¬è¿™æ ·å¤„ç†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> typeHousehold = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> item.type === <span class="string">'Household'</span>;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> allPriceHousehold = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total, item</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> total += item.price;</span><br><span class="line">	&#125;, <span class="number">0</span>);	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(allPriceHousehold(typeHousehold(expenses))); <span class="comment">//600</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Function Composition</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> typeHousehold = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> item.type === <span class="string">'Household'</span>;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sumAll = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total, item</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> total += item.price;</span><br><span class="line">	&#125;, <span class="number">0</span>);	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">f, g</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> g(f(x));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sumAllHousehold = compose(typeHousehold, sumAll);</span><br><span class="line"><span class="built_in">console</span>.log(sumAllHousehold(expenses)); <span class="comment">//600</span></span><br></pre></td></tr></table></figure>
<p>compose å‡½æ•°å¦‚æœç”¨ es6 å†™çš„è¯ï¼Œæ›´ä½³ç®€æ´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = (f, g) =&gt; x =&gt; g(f(x));</span><br></pre></td></tr></table></figure>
<h2 id="å·¥å…·åº“"><a href="#å·¥å…·åº“" class="headerlink" title="å·¥å…·åº“"></a>å·¥å…·åº“</h2><p>lodash æä¾›äº† <em>.flow å’Œ </em>.flowRight æ–¹æ³•æ¥è·å¾—ä¸€ä¸ªåˆæˆè¿‡çš„æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sumAllHousehold = _.flow([typeHousehold, sumAll]); <span class="comment">// ä»å·¦åˆ°å³</span></span><br><span class="line"><span class="keyword">const</span> sumAllHousehold = _.flowRight([sumAll, typeHousehold]); <span class="comment">//ä»å³åˆ°å·¦</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sumAllHousehold(expenses)); <span class="comment">//600</span></span><br></pre></td></tr></table></figure>
<p>Ramda ä¹Ÿæä¾›äº† R.compose æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const sumAllHousehold = R.compose(sumAll, typeHousehold);</span><br><span class="line"></span><br><span class="line">console.log(sumAllHousehold(expenses)); //600</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.ricardofilipe.com/post/javascript-composition-for-dummies" target="_blank" rel="external">A Gentle Introduction to Composition in JavaScript</a></p>
<p><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-function-composition-20dfb109a1a0#.4oz5dmmij" target="_blank" rel="external">What is Function Composition</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/31/èŠèŠ-Pure-Function/" itemprop="url">
                  èŠèŠ Pure Function
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-01-31T10:53:31+08:00" content="2017-01-31">
              2017-01-31
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p><b>Pure Function æ˜¯ä¸ä¾èµ–ä¸”ä¸æ”¹å˜å…¶å¤–éƒ¨ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°</b><br>A pure function doesnâ€™t depend on and doesnâ€™t modify the states of variables out of its scope.</p>
<p>Pure Function æ˜¯ Functional Programming çš„æ ¸å¿ƒ</p>
<p>ç¨å¾®æœ‰ç‚¹æŠ½è±¡ï¼Œåˆ«æ€¥â€¦</p>
<h2 id="ä¸ä¾èµ–-amp-æ”¹å˜å¤–éƒ¨ä½œç”¨åŸŸå˜é‡çš„å€¼"><a href="#ä¸ä¾èµ–-amp-æ”¹å˜å¤–éƒ¨ä½œç”¨åŸŸå˜é‡çš„å€¼" class="headerlink" title="ä¸ä¾èµ– &amp; æ”¹å˜å¤–éƒ¨ä½œç”¨åŸŸå˜é‡çš„å€¼"></a>ä¸ä¾èµ– &amp; æ”¹å˜å¤–éƒ¨ä½œç”¨åŸŸå˜é‡çš„å€¼</h2><p>çœ‹ä¸‹é¢è¿™ä¸ª function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = &#123; a: <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">impureFunction</span>(<span class="params">items</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  items.a = items.a * b + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> items.a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = impureFunction(values);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(values, c); <span class="comment">// &#123;a: 3&#125;, 3</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ª function ä¾èµ–äº†å…¶å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå¹¶ä¸”æŠŠå¤–éƒ¨ä½œç”¨åŸŸå˜é‡ä¸­çš„å±æ€§å€¼æ”¹äº†ï¼Œè¿™ä¸ª function ä¸æ˜¯å¹²å‡€çš„ functionï¼Œå®ƒå®¹æ˜“äº§ç”Ÿå‰¯ä½œç”¨ï¼ˆside effectï¼‰</p>
<p>ä½¿ç”¨ Pure Function æ”¹å†™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> values = &#123; a: <span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">impureFunction</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  a = a * b + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = impureFunction(values.a);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(values, c); <span class="comment">// &#123;a: 1&#125;, 3</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™å‡½æ•°å¹¶æ²¡æœ‰æ”¹å˜ values å¯¹è±¡çš„ a å±æ€§å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ª Pure Function</p>
<p><b>å†æ¥çœ‹ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ï¼Œæ±‚ä»¥ä¸‹å¯¹è±¡æ•°ç»„ä¸­æ‰€æœ‰ price æ€»å’Œ</b><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> expenses = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'Rent'</span>,</span><br><span class="line">    price: <span class="number">500</span>,</span><br><span class="line">    type: <span class="string">'Household'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Netflix'</span>,</span><br><span class="line">    price: <span class="number">5.99</span>,</span><br><span class="line">    type: <span class="string">'Services'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Gym'</span>,</span><br><span class="line">    price: <span class="number">15</span>,</span><br><span class="line">    type: <span class="string">'Health'</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    name: <span class="string">'Bills'</span>,</span><br><span class="line">    price: <span class="number">100</span>,</span><br><span class="line">    type: <span class="string">'Household'</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<p>ä¼ ç»Ÿæ–¹å¼<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//other code goes here</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;expenses.length; i++) &#123;</span><br><span class="line">	total += expenses[i].price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(total);</span><br></pre></td></tr></table></figure></p>
<p>å¾ˆæ˜æ˜¾ç»“æœä¸ä¼šé”™ï¼Œä½†æ˜¯è¿™ä¸­å†™æ³•çš„ç¼ºé™·ï¼š</p>
<ul>
<li>å®ƒä¾èµ–å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ totalï¼Œè€Œè¿™ä¸ªå˜é‡æœ‰å¯èƒ½åœ¨å…¶ä»–ä»£ç ä¸­è¢«è¦†ç›–ï¼Œå¾ˆéš¾å»è¿½è¸ªå®ƒçš„çŠ¶æ€å˜åŒ–ï¼Œä¸å¥½é¢„æµ‹</li>
<li>å¦‚æœæœ‰å¦ä¸€ä¸ªéœ€æ±‚ä¹Ÿæ˜¯æ±‚æ‰€ç”¨æ•°ç»„çš„å±æ€§å’Œï¼Œé‚£è¿™ä¸ª for å¾ªç¯åˆå¾—å†™ä¸€é</li>
</ul>
<p>ä½¿ç”¨ Pure Function<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total, item</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> total += item.price;</span><br><span class="line">	&#125;, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(expenses));</span><br></pre></td></tr></table></figure></p>
<p>å¥½å¤„ä¸€ç›®äº†ç„¶</p>
<h2 id="Views"><a href="#Views" class="headerlink" title="Views"></a>Views</h2><p>Pure Function ç‰¹å¾ï¼š</p>
<ol>
<li>å¿…é¡»æœ‰è¿”å›å€¼</li>
<li>Same Inputï¼ŒSame Output</li>
</ol>
<h2 id="ä½¿ç”¨-Pure-Function-çš„å¥½å¤„"><a href="#ä½¿ç”¨-Pure-Function-çš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨ Pure Function çš„å¥½å¤„"></a>ä½¿ç”¨ Pure Function çš„å¥½å¤„</h2><ul>
<li>æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå› ä¸ºå®ƒä¸ä¼šæ”¹å˜å®ƒå¤–éƒ¨ä½œç”¨åŸŸä¸­å˜é‡çš„çŠ¶æ€</li>
<li>å®¹æ˜“å•å…ƒæµ‹è¯•ï¼Œå› ä¸º Pure Function ä¸ä¾èµ–å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œåªéœ€è¦å…³å¿ƒè¾“å…¥å’Œè¾“å‡ºå€¼</li>
<li>ä½¿ä»£ç æ›´ä½³ç®€æ´ï¼Œæ›´çµæ´»ï¼Œæé«˜å¤ç”¨æ€§</li>
</ul>
<p><a href="http://www.nicoespeon.com/en/2015/01/pure-functions-javascript/" target="_blank" rel="external">Pure Function in javascript</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/30/èŠèŠPromise/" itemprop="url">
                  èŠèŠ Promise
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-01-30T11:22:55+08:00" content="2017-01-30">
              2017-01-30
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>Promise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºæä¾›ä¸€ä¸ªæœªæ¥å€¼ï¼Œè¿™ä¸ªå€¼å¯èƒ½æ˜¯æˆåŠŸå€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯å¤±è´¥å€¼ã€‚</p>
<blockquote>
<p>A promise is an object that may produce a single value some time in the future: either a resolved value, or a reason that itâ€™s not resolved.</p>
</blockquote>
<h2 id="ä¸‰ç§çŠ¶æ€"><a href="#ä¸‰ç§çŠ¶æ€" class="headerlink" title="ä¸‰ç§çŠ¶æ€"></a>ä¸‰ç§çŠ¶æ€</h2><p><b>Pending</b><br>initial state, not fulfilled or rejected.<br>pending çŠ¶æ€å°±ç›¸å½“äº http è¯·æ±‚æ­£åœ¨ç­‰å¾…æœåŠ¡å™¨è¿”å›ç»“æœä¸€æ ·ï¼Œå¯èƒ½æ˜¯ç­‰å¾…æˆåŠŸï¼Œä¹Ÿå¯èƒ½æ˜¯å¤±è´¥</p>
<p><b>Fulfilled</b><br>the operation completed successfully.<br>Fulfilled çŠ¶æ€è¡¨ç¤º promise è¿”å›äº†ä¸€ä¸ªæˆåŠŸå€¼ï¼Œå³ resolve å€¼</p>
<p><b>Rejected</b><br>the operation failed.<br>Rejected çŠ¶æ€è¡¨ç¤º promise è¿”å›äº†ä¸€ä¸ªå¤±è´¥å€¼ï¼Œå³ reject å€¼</p>
<h2 id="ç®€å•å®ä¾‹"><a href="#ç®€å•å®ä¾‹" class="headerlink" title="ç®€å•å®ä¾‹"></a>ç®€å•å®ä¾‹</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> say = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        resolve(<span class="string">'yes'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="string">'no'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'begin'</span>);</span><br><span class="line"></span><br><span class="line">say.then(</span><br><span class="line">  res =&gt; <span class="built_in">console</span>.log(res),</span><br><span class="line">  err =&gt; <span class="built_in">console</span>.log(err)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'end'</span>);</span><br></pre></td></tr></table></figure>
<h2 id="åµŒå¥—-Chaining"><a href="#åµŒå¥—-Chaining" class="headerlink" title="åµŒå¥— (Chaining)"></a>åµŒå¥— (Chaining)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> greet = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        resolve(<span class="string">'hello'</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="string">'no welcome'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toSb = greet =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(<span class="string">`<span class="subst">$&#123;greet&#125;</span> to sb`</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">greet.then(</span><br><span class="line">  greet =&gt; toSb(greet)</span><br><span class="line">).then(</span><br><span class="line">  res =&gt; <span class="built_in">console</span>.log(res)</span><br><span class="line">)</span><br><span class="line">.catch(</span><br><span class="line">  err =&gt; <span class="built_in">console</span>.log(err)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><b>Something Important</b></p>
<p>é”™è¯¯å¤„ç†åœ¨ promise ä¸­æœ‰ä¸¤ç§</p>
<blockquote>
<ol>
<li>Promise.prototype.catch(onRejected)</li>
<li>Promise.prototype.then(onFulfilled, onRejected)</li>
</ol>
</blockquote>
<p>å› ä¸º .then() æ€»æ˜¯è¿”å›ä¸€ä¸ª new promiseï¼Œæ‰€ä»¥å¦‚æœåœ¨ then ä¸­å¤„ç† onRejectedï¼Œé‚£ä¹ˆåœ¨ promise åµŒå¥—æ—¶ï¼Œç¬¬äºŒä¸ª .then() ä¸­çš„ä»£ç æ€»ä¼šè¢«æ‰§è¡Œï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­å°±ä¼šè¾“å‡º undefined   </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">greet.then(</span><br><span class="line">  greet =&gt; toSb(greet),</span><br><span class="line">  greetErr =&gt; <span class="built_in">console</span>.log(greetTxt) <span class="comment">//if promise is rejected</span></span><br><span class="line">).then(</span><br><span class="line">  res =&gt; <span class="built_in">console</span>.log(res)  <span class="comment">// here will always print undefined</span></span><br><span class="line">)</span><br><span class="line">.catch(</span><br><span class="line">  err =&gt; <span class="built_in">console</span>.log(err)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ä¸ªäººæ¨èä½¿ç”¨ .catch() å¤„ç† onRejected</p>
<h2 id="å¤šä¸ª-Promise"><a href="#å¤šä¸ª-Promise" class="headerlink" title="å¤šä¸ª Promise"></a>å¤šä¸ª Promise</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123; </span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; resolve(<span class="number">1000</span>),</span><br><span class="line">	<span class="number">1000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;); </span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123; </span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; reject(<span class="number">2000</span>),</span><br><span class="line">	<span class="number">2000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; resolve(<span class="number">3000</span>),</span><br><span class="line">	<span class="number">3000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2s to reject the promise</span></span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2, p3]).then(values =&gt; &#123; </span><br><span class="line">  <span class="built_in">console</span>.log(values);</span><br><span class="line">&#125;).catch(reason =&gt; &#123; </span><br><span class="line">  <span class="built_in">console</span>.log(reason)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰€æœ‰çš„ promise æˆåŠŸ resolve åï¼Œåˆ™ Promise.all ä¹ŸæˆåŠŸ resolve<br>åªè¦æœ‰ä¸€ä¸ª promise è¢« rejectï¼Œåˆ™ Promise.all è¿”å›çš„æ–° promise ä¹Ÿè¢« reject<br>Promise.all reject çš„å€¼ä¸ºç¬¬ä¸€ä¸ªè¢« reject çš„ promise çš„å€¼</p>
</blockquote>
<h2 id="ç»“åˆ-async-amp-await-example"><a href="#ç»“åˆ-async-amp-await-example" class="headerlink" title="ç»“åˆ async &amp; await (example)"></a>ç»“åˆ async &amp; await (example)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123; </span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; resolve(<span class="number">1000</span>),</span><br><span class="line">	<span class="number">1000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;); </span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123; </span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; resolve(<span class="number">2000</span>),</span><br><span class="line">	<span class="number">2000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</span><br><span class="line">  setTimeout(</span><br><span class="line">	() =&gt; reject(<span class="number">3000</span>),</span><br><span class="line">	<span class="number">3000</span></span><br><span class="line">  ); </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">allPromise</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> result = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([p1, p2, p3]);</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allPromise().then(</span><br><span class="line">	res =&gt; <span class="built_in">console</span>.log(res)</span><br><span class="line">).catch(</span><br><span class="line">	err =&gt; <span class="built_in">console</span>.log(err) <span class="comment">//3000</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-promise-27fc71e77261#.y8mslze0c" target="_blank" rel="external">æŒæ¡Promise</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/26/Git-Ninja/" itemprop="url">
                  Git Ninja
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-12-26T09:42:12+08:00" content="2016-12-26">
              2016-12-26
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç‰ˆæœ¬ç®¡ç†çš„å‘å±•å²"><a href="#ç‰ˆæœ¬ç®¡ç†çš„å‘å±•å²" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†çš„å‘å±•å²"></a>ç‰ˆæœ¬ç®¡ç†çš„å‘å±•å²</h2><p><b>Local Version Control Systems</b><br><img src="/images/git/local.png" alt=""></p>
<p>To collaborate with developers on other systemsï¼ŒCentralized Version Control Systems (CVCSs) were developed.</p>
<p><b>Centralized Version Control Systems</b><br><img src="/images/git/centralized.png" alt=""></p>
<p>å…¶ä¸­å°±æœ‰å¤§åé¼é¼çš„ SVN (Subversion)ï¼Œè¿™ç§ä¸­å¤®ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿçš„ç‰¹ç‚¹ï¼š<br>have a single server that contains all the versioned files, and a number of clients that check out files from that central place.</p>
<p>è¿™ç§æ ‡å‡†è¢«æ²¿ç”¨å¤šå¹´ï¼Œä¸è¿‡å…¶ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š<br>If that server goes down for an hour, then during that hour nobody can collaborate at all or save versioned changes to anything theyâ€™re working on. If the hard disk the central database is on becomes corrupted, and proper backups havenâ€™t been kept, you lose absolutely everything.</p>
<p>å½“ä½ çš„æ•´ä¸ªæ–‡ä»¶ä¿®æ”¹å†å²è¢«ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹æ—¶ï¼Œå°±æœ‰å¤±å»æ‰€æœ‰çš„é£é™©</p>
<p><b>Distributed Version Control Systems</b><br><img src="/images/git/distributed.png" alt=""></p>
<p>ä»ä¸Šå›¾å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¿æœ‰ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰ç‰ˆæœ¬ä¿®æ”¹å†å²<br>if any server dies, any of the client repositories can be copied back up to the server to restore it. Every clone is really a full backup of all the data.</p>
<h2 id="Git-ä¸­çš„æ–‡ä»¶çŠ¶æ€"><a href="#Git-ä¸­çš„æ–‡ä»¶çŠ¶æ€" class="headerlink" title="Git ä¸­çš„æ–‡ä»¶çŠ¶æ€"></a>Git ä¸­çš„æ–‡ä»¶çŠ¶æ€</h2><p>è¦ç†è§£ gitï¼Œå¿…é¡»ç†è§£ git ä¸­æ–‡ä»¶çš„ä¸‰ç§çŠ¶æ€</p>
<p>Modified<br>Staged<br>Committed</p>
<p><img src="/images/git/areas.png" alt=""></p>
<p>Modified å¯¹åº”æ–‡ä»¶æ‰€å¤„åŒºåŸŸ Working directory<br>Staged å¯¹åº”æ–‡ä»¶æ‰€å¤„åŒºåŸŸ Staging area<br>Committed å¯¹åº”æ–‡ä»¶æ‰€å¤„åŒºåŸŸ Git directory</p>
<p><b>The basic Git workflow goes something like this:</b></p>
<ul>
<li>You modify files in your working directory.</li>
<li>You stage the files, adding snapshots of them to your staging area.</li>
<li>You do a commit, which takes the files as they are in the staging area and stores that snapshot permanently to your Git directory.</li>
</ul>
<h2 id="Git-é…ç½®"><a href="#Git-é…ç½®" class="headerlink" title="Git é…ç½®"></a>Git é…ç½®</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"John Doe"</span></span><br><span class="line">git config --global user.email johndoe@example.com</span><br></pre></td></tr></table></figure>
<p><b>å®‰è£…å®Œ git åï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯è®¾ç½®å…¨å±€ Identityï¼š</b><br>The first thing you should do when you install Git is to set your user name and email address. This is important because every Git commit uses this information, and itâ€™s immutably baked into the commits you start creating.</p>
<p>è¿™æ˜¯å…¨å±€çš„ï¼Œå¦‚æœæƒ³é’ˆå¯¹æŸä¸ªé¡¹ç›®è®¾ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name <span class="string">"John Doe"</span></span><br><span class="line">git config user.email johndoe@example.com</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è®¾ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>
<h2 id="Git-å¸¸ç”¨å‘½ä»¤æ•´ç†"><a href="#Git-å¸¸ç”¨å‘½ä»¤æ•´ç†" class="headerlink" title="Git å¸¸ç”¨å‘½ä»¤æ•´ç†"></a>Git å¸¸ç”¨å‘½ä»¤æ•´ç†</h2><p>é¦–å…ˆçœ‹ä¸€å‰¯å›¾ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å¸¸ç”¨å‘½ä»¤éƒ½å¯ä»¥ç”¨è¿™å¼ å›¾ä¸Šçš„æŸä¸ªè¿‡ç¨‹æè¿°<br><img src="/images/git/lifecycle.png" alt=""></p>
<h3 id="Two-main-approaches-to-get-a-git-project"><a href="#Two-main-approaches-to-get-a-git-project" class="headerlink" title="Two main approaches to get a git project"></a>Two main approaches to get a git project</h3><p>Initializing a Repository in an Existing Directory</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add file&lt;&gt;</span><br><span class="line">git commit -m <span class="string">"initial commit"</span></span><br></pre></td></tr></table></figure>
<p>Cloning an Existing Repository</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:<span class="comment">//github.com/xwillmadeit/webpack2.git [projectName](optional)</span></span><br></pre></td></tr></table></figure>
<h3 id="Add-file-to-the-staged-area"><a href="#Add-file-to-the-staged-area" class="headerlink" title="Add file to the staged area"></a>Add file to the staged area</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git add &lt;file&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Commit-all-staged-files"><a href="#Commit-all-staged-files" class="headerlink" title="Commit all staged files"></a>Commit all staged files</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"initial commit"</span></span><br><span class="line">git commit -a -m <span class="string">"skip git add"</span></span><br></pre></td></tr></table></figure>
<h3 id="Check-status"><a href="#Check-status" class="headerlink" title="Check status"></a>Check status</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git status -s</span><br></pre></td></tr></table></figure>
<h3 id="Check-the-changes"><a href="#Check-the-changes" class="headerlink" title="Check the changes"></a>Check the changes</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff  (compare <span class="keyword">with</span> unstaged status <span class="keyword">with</span> staged or last commit status)</span><br><span class="line">git diff --staged (compare <span class="keyword">with</span> staged status and last commit status)</span><br><span class="line">git difftool</span><br></pre></td></tr></table></figure>
<h3 id="Undoing-things"><a href="#Undoing-things" class="headerlink" title="Undoing things"></a>Undoing things</h3><ol>
<li>å½“æƒ³è¦ä¿®æ”¹ä¸Šæ¬¡æäº¤æ–‡ä»¶æˆ–æäº¤ä¿¡æ¯æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>
<p>You end up with a single commit â€“ the second commit replaces the results of the first.</p>
<ol>
<li>Unstage a file</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;file&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>Unmodifying a Modified File</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;file&gt;</span><br></pre></td></tr></table></figure>
<p>this command will revert it back to what it looked like when you last committed.</p>
<h3 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h3><p>list all branches</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
<p>create a new branch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch test</span><br></pre></td></tr></table></figure>
<p>switch to another branch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout test</span><br></pre></td></tr></table></figure>
<p>create and switch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b iss53</span><br></pre></td></tr></table></figure>
<h3 id="show-log"><a href="#show-log" class="headerlink" title="show log"></a>show log</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git log</span><br><span class="line">git log &lt;file&gt;</span><br><span class="line">git log -p &lt;file&gt;</span><br><span class="line">git show &lt;commit&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Stash-changes-before-switching-branch"><a href="#Stash-changes-before-switching-branch" class="headerlink" title="Stash changes before switching branch"></a>Stash changes before switching branch</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br><span class="line">git checkcout test</span><br><span class="line">git stash pop/apply</span><br></pre></td></tr></table></figure>
<p>åˆ°è¿™é‡Œå°±æ•´ç†è¿™ä¹ˆå¤šï¼Œéƒ½æ˜¯æ ¹æ® git book å®˜æ–¹åŸç‰ˆä¹¦æ€»ç»“å‡ºæ¥çš„ï¼Œæœ‰æœºä¼šå†è¿›é˜¶ä¸€ä¸‹</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="xwillmadeit" />
          <p class="site-author-name" itemprop="name">xwillmadeit</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xwillmadeit</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  

  

  

  

  


</body>
</html>
